/*! SpringRoll 1.0.3 */
!function(){"use strict";!function(){var a=include("createjs.Bitmap",!1),b=include("PIXI.Sprite",!1),c=function(c,d,e){var f=!1;if(c?a&&c instanceof a?f=!0:b&&c instanceof b&&(f=!0):f=!1,!f)throw"Invalid image";this._image=c,this._size=d,this._adapter=e},d=extend(c);d.resize=function(a,b){var c=this._size,d=this._adapter,e=this._image,f=c.width/c.height,g=a/b,h=g>=f,i=d.getBitmapSize(e),j=c.maxWidth||c.width,k=i.w/j;c.maxHeight||(k=i.h/c.height);var l=k*(h?c.height:c.width),m=(h?b:a)/l;d.setScale(this._image,m),d.setPosition(this._image,{x:.5*(a-i.w*m),y:.5*(b-i.h*m)})},Object.defineProperty(d,"display",{get:function(){return this._image}}),d.destroy=function(){this._adapter=null,this._size=null,this._image=null},namespace("springroll").ScaleImage=c}(),function(){var a,b=function(b,c,d,e){a||(a=include("springroll.ScaleManager")),c=c.split("-"),this.vertAlign=c[0],this.horiAlign=c[1],this.titleSafe=!1,this.maxScale=1,this.minScale=1,this.centeredHorizontally=!1,this._display=b,this._size=d,this._adapter=e;var f=e.getScale(b),g=e.getPosition(b),h=this.origScaleX=f.x||1,i=this.origScaleY=f.y||1;this.origBounds=e.getLocalBounds(b);var j,k=this.origBounds;switch(this.origScaleX<0?(j=k.x,k.x=k.right*h,k.right=j*h,k.width*=Math.abs(h)):(k.x*=h,k.right*=h,k.width*=h),this.origScaleY<0?(j=k.y,k.y=k.bottom*i,k.bottom=j*i,k.height*=Math.abs(i)):(k.y*=i,k.bottom*=i,k.height*=i),this.origMarginHori=0,this.origMarginVert=0,this.vertAlign){case a.ALIGN_TOP:this.origMarginVert=g.y+this.origBounds.y;break;case a.ALIGN_CENTER:this.origMarginVert=.5*d.height-g.y;break;case a.ALIGN_BOTTOM:this.origMarginVert=d.height-(g.y+this.origBounds.bottom)}switch(this.horiAlign){case a.ALIGN_LEFT:this.origMarginHori=g.x+this.origBounds.x;break;case a.ALIGN_CENTER:this.origMarginHori=.5*d.width-g.x;break;case a.ALIGN_RIGHT:this.origMarginHori=d.width-(g.x+this.origBounds.right)}},c=extend(b);Object.defineProperty(c,"display",{get:function(){return this._display}}),c.resize=function(b,c){var d=this._adapter,e=this._display,f=this._size,g=this.origBounds,h=this.origScaleX,i=this.origScaleY,j=f.width/f.height,k=b/c,l=k>=j?c/f.height:b/f.width,m=k>=j,n=0,o=0;m?n=(b-f.width*l)/2:o=(c-f.height*l)/2;var p=l;this.minScale&&p<this.minScale?p=this.minScale:this.maxScale&&p>this.maxScale&&(p=this.maxScale),d.setScale(e,h*p,"x"),d.setScale(e,i*p,"y");var q,r,s;q=this.origMarginVert*l;var t=!0===this.titleSafe||"vertical"===this.titleSafe;switch(this.vertAlign){case a.ALIGN_TOP:s=t?o+q-g.y*p:q-g.y*p;break;case a.ALIGN_CENTER:s=.5*c-q;break;case a.ALIGN_BOTTOM:s=t?c-o-q-g.bottom*p:c-q-g.bottom*p}switch(null!==s&&d.setPosition(e,s,"y"),q=this.origMarginHori*l,t=!0===this.titleSafe||"horizontal"===this.titleSafe,this.horiAlign){case a.ALIGN_LEFT:r=t?n+q-g.x*p:q-g.x*p;break;case a.ALIGN_CENTER:r=this.centeredHorizontally?.5*(b-e.width):.5*b-q;break;case a.ALIGN_RIGHT:r=t?b-n-q-g.right*p:b-q-g.right*p}null!==r&&d.setPosition(e,r,"x")},c.destroy=function(){this._adapter=null,this.origBounds=null,this._display=null,this._size=null},namespace("springroll").ScaleItem=b}(),function(a){var b={},c=Math.PI/180;b.init=function(d,e,f){f||(f=springroll.ScaleManager._getAdapter()),e.x!==a&&f.setPosition(d,e.x,"x"),e.y!==a&&f.setPosition(d,e.y,"y");var g=e.scale,h=f.getScale(d);g&&(f.setScale(d,g.x*h.x,"x"),f.setScale(d,g.y*h.y,"y")),g=e.pivot,g&&f.setPivot(d,g),e.rotation!==a&&(d.rotation=e.rotation,f.useRadians&&(d.rotation*=c)),e.hitArea&&f.setHitArea(d,b.generateHitArea(e.hitArea,1,f))},b.generateHitArea=function(a,b,c){if(c||(c=springroll.ScaleManager._getAdapter()),b||(b=1),Array.isArray(a)){if(1==b)return new c.Polygon(a);for(var d=[],e=0,f=a.length;e<f;++e)d.push(new c.Point(a[e].x*b,a[e].y*b));return new c.Polygon(d)}return"rect"!=a.type&&a.type?"ellipse"==a.type?new c.Ellipse((a.x-.5*a.w)*b,(a.y-.5*a.h)*b,a.w*b,a.h*b):"circle"==a.type?new c.Circle(a.x*b,a.y*b,a.r*b):"sector"==a.type?new c.Sector(a.x*b,a.y*b,a.r*b,a.start,a.end):null:new c.Rectangle(a.x*b,a.y*b,a.w*b,a.h*b)},namespace("springroll").Positioner=b}(),function(a){var b,c=include("springroll.ScaleItem"),d=include("springroll.ScaleImage"),e=include("springroll.Positioner"),f=include("springroll.Application"),g=function(a){if(b=include("springroll.Debug",!1),a=Object.merge({enabled:!1,size:null,items:null,display:null,container:null},a),this._items=[],this._size=null,this._scale=1,this._adapter=null,this._enabled=a.enabled,this.size=a.size,this.display=a.display,a.items){if(!a.container)throw"ScaleManager requires container to add items";this.addItems(a.container,a.items)}this._resize=this._resize.bind(this),this.enabled=this._enabled},h=extend(g),i=g.ALIGN_TOP="top",j=g.ALIGN_BOTTOM="bottom",k=g.ALIGN_LEFT="left",l=g.ALIGN_RIGHT="right",m=g.ALIGN_CENTER="center";g._getAdapter=function(a){if(a||(a=f.instance.display),!a)return null;if(!a.adapter)throw"ScaleManager incompatible display";return a.adapter},Object.defineProperty(h,"display",{set:function(a){this._adapter=g._getAdapter(a)}}),Object.defineProperty(h,"size",{set:function(a){if(this._size=a,a){if(!a.width||!a.height)throw"Invalid design settings";var b=f.instance.options;a.maxWidth&&(b.maxWidth=a.maxWidth),a.maxHeight&&(b.maxHeight=a.maxHeight)}},get:function(){return this._size}}),Object.defineProperty(h,"scale",{get:function(){return this._scale}}),Object.defineProperty(h,"numItems",{get:function(){return this._items.length}}),Object.defineProperty(h,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=a;var b=f.instance;b.off("resize",this._resize),a&&(b.on("resize",this._resize),b.triggerResize())}}),h.removeItems=function(a,b){var c=[];if(!b)return this.removeItemsByContainer(a);for(var d in b)a[d]&&c.push(a[d]);if(c.length){var e=this._items.slice(),f=this._items;e.forEach(function(a){c.indexOf(a.display)>-1&&f.splice(f.indexOf(a),1)})}return this},h.removeItemsByContainer=function(a){var b=this._adapter;return this._items.forEach(function(c,d,e){b.contains(a,c.display)&&e.splice(d,1)}),this},h.removeItem=function(a){for(var b=this._items,c=0,d=b.length;c<d;c++)if(b[c].display===a){b.splice(c,1);break}return this},h.addItems=function(a,b){var c,d;for(d in b)c=b[d],a[d]&&this.addItem(a[d],c,!1);return f.instance.triggerResize(),this},h.addItem=function(b,g,h){if(h===a&&(h=!0),g||(g={align:m}),"cover-image"===g)this._items.push(new d(b,this._size,this._adapter));else{"string"==typeof g&&(g={align:g});var n=g.align||m;switch(n){case m:n=n+"-"+n;break;case k:case l:n=m+"-"+n;break;case i:case j:n=n+"-"+m}if(!/^(center|top|bottom)\-(left|right|center)$/.test(n))throw"Item align '"+n+"' is invalid for "+b;e.init(b,g,this._adapter);var o=new c(b,n,this._size,this._adapter);o.titleSafe="all"==g.titleSafe||g.titleSafe,o.maxScale=g.maxScale||NaN,o.minScale=g.minScale||NaN,o.centeredHorizontally=!!g.centeredHorizontally,this._items.push(o)}return h&&f.instance.triggerResize(),this},h._resize=function(a,b){var c=this._size;if(c){var d=c.width/c.height,e=a/b;this._scale=e>d?b/c.height:a/c.width,this._items.forEach(function(c){c.resize(a,b)})}},h.destroy=function(){this.enabled=!1,this._items.forEach(function(a){a.destroy()}),this._adapter=null,this._size=null,this._items=null},namespace("springroll").ScaleManager=g}(),function(){var a,b=include("springroll.ApplicationPlugin"),c=include("springroll.ScaleManager"),d=new b(1);d.setup=function(){a=include("springroll.Debug",!1),this.scaling=new c,this.options.override("responsive",!0),this.once("configLoaded",function(a){var b=a.scalingSize;b&&(this.scaling.size=b)}),this.once("afterInit",function(){var a=this.config;a&&a.scaling&&this.scaling.addItems(this,a.scaling)})},d.preload=function(a){this.scaling.display=this.display,this.scaling.enabled=!0,a()},d.teardown=function(){this.scaling&&this.scaling.destroy(),this.scaling=null}}(),function(a){var b=include("springroll.ApplicationPlugin"),c=new b(100);c.setup=function(){var b=a.navigator;this.isIOS=b.userAgent.search(/iPhone|iPad|iPod/)>-1,this.isAndroid=b.userAgent.search(/Android/)>-1,this.hasTouch=!!("ontouchstart"in a||b.msPointerEnabled&&b.msMaxTouchPoints>0||b.pointerEnabled&&b.maxTouchPoints>0)},c.preload=function(a){if(this.filters){var b=this.hasTouch?"_touch":"_mouse";this.filters.add("%INTERACTION%",b),this.filters.add("%UI%",b)}a()}}(window),function(){var a=include("springroll.ScaleManager"),b=a.prototype;b.addBackground=function(a){return this.addItem(a,"cover-image",!0),this},b.removeBackground=function(a){return this.removeItem(a),this},Object.defineProperty(springroll,"UIScaler",{get:function(){return a}})}();}();