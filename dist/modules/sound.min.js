/*! SpringRoll 1.0.3 */
!function(){"use strict";!function(){var a=function(a){this.id=a,this.volume=1,this.muted=!1,this.sounds=[],this.subContexts=[]};namespace("springroll").SoundContext=a}(),function(){var a,b=function(){a||(a=include("springroll.Sound")),this._channel=null,this._endFunc=null,this._endCallback=null,this._startFunc=null,this._startParams=null,this.alias=null,this._fTime=0,this._fDur=0,this._fStart=0,this._fEnd=0,this.curVol=0,this._pan=0,this.length=0,this.paused=!1,this.globallyPaused=!1,this.isValid=!0},c=extend(b);Object.defineProperty(c,"position",{get:function(){return this._channel?this._channel.getPosition():0}}),c.stop=function(){var b=a.instance;if(b){var c=b._sounds[this.alias];if(!c)return;var d=c.playing.indexOf(this);d>-1&&c.playing.splice(d,1),d=c.waitingToPlay.indexOf(this),d>-1&&c.waitingToPlay.splice(d,1),b._stopInst(this)}},c.updateVolume=function(b){if(this._channel){if(void 0===b){var c=a.instance,d=c._sounds[this.alias];if(d.context){var e=c._contexts[d.context];b=e.muted?0:e.volume}else b=1}this._channel.setVolume(b*this.curVol)}},Object.defineProperty(c,"volume",{get:function(){return this.curVol},set:function(a){this.curVol=a,this.updateVolume()}}),Object.defineProperty(c,"pan",{get:function(){return this._pan},set:function(a){this._pan=a,this._channel&&(this._channel.pan=a)}}),c.pause=function(){this.globallyPaused=!1,this.paused||(this.paused=!0,this._channel&&(this._channel.paused=!0,a.instance._onInstancePaused()))},c.resume=function(){this.paused&&(this.paused=!1,this._channel&&(a.instance._onInstanceResume(),this._channel.paused=!1,this._channel.gainNode&&(this._channel._volume=-1,this._channel.gainNode.gain.value=0),this.updateVolume()))},namespace("springroll").SoundInstance=b}(),function(){var a=include("springroll.Task"),b=include("springroll.Application"),c=function(b){a.call(this,b,b.sounds[0]),this.sounds=b.sounds},d=a.prototype,e=a.extend(c);c.test=function(a){return!!a.sounds&&Array.isArray(a.sounds)},e.start=function(a){var c=b.instance.sound,d=this.sounds;c.preload(d,function(){d.destroy=function(){c.unload(this),this.length=0,delete this.destroy},a(d)})},e.destroy=function(){this.sounds=null,d.destroy.call(this)},namespace("springroll").SoundTask=c}(),function(){function a(){var a=m.activePlugin,b=a._audioSources,c=a._soundInstances,d=a._loaders;j.context.close&&j.context.close();var e=window.AudioContext||window.webkitAudioContext;j.context=new e,j.call(a),a._loaders=d,a._audioSources=b,a._soundInstances=c;for(var f in c)for(var g=c[f],h=0;h<g.length;++h){var i=g[h];i.panNode.disconnect(0),i.gainNode.disconnect(0),i.gainNode=j.context.createGain(),i.panNode=j.context.createPanner(),i.panNode.panningModel=j._panningModel,i.panNode.connect(i.gainNode),i._updatePan(),(i._position<0||void 0===i._position)&&(i._position=0)}}function b(a){j.playEmptySound(),"running"!=j.context.state&&void 0!==j.context.state||(r.preventDefaultOnUnmute&&a.preventDefault(),document.removeEventListener("touchstart",b),document.removeEventListener("touchend",b),document.removeEventListener("mousedown",b),r.systemMuted=!1,r.trigger("systemUnmuted"))}function c(a){return"string"==typeof a}function d(a){return"function"==typeof a}var e,f,g,h=include("springroll.Application"),i=include("springroll.EventDispatcher"),j=include("createjs.WebAudioPlugin"),k=include("createjs.CordovaAudioPlugin",!1),l=include("createjs.FlashAudioPlugin",!1),m=include("createjs.Sound"),n=include("springroll.Enum"),o=function(){g||(e=include("springroll.Debug",!1),f=include("springroll.SoundContext"),g=include("springroll.SoundInstance")),i.call(this),this._sounds={},this._fades=[],this._pool=[],this.supportedSound=null,this._contexts={},this._update=this._update.bind(this),this._markLoaded=this._markLoaded.bind(this),this._playAfterLoad=this._playAfterLoad.bind(this),this.isSupported=!0,this.systemMuted=createjs.BrowserDetect.isIOS,this.preventDefaultOnUnmute=!0},p=i.prototype,q=i.extend(o),r=null,s=new n("unloaded","loading","loaded");o.init=function(a,c){var e=h.instance.options;d(a)&&(a={ready:a});var f={plugins:l?[j,l]:[j],types:["ogg","mp3"],swfPath:"assets/swfs/",ready:null};if(a=Object.merge({},f,a),e.forceFlashAudio&&(a.plugins=[l]),k&&(e.forceNativeAudio||a.plugins.indexOf(k)>=0))try{(window.top?window.top.springroll.forceNativeAudio:window.springroll.forceNativeAudio)&&(a.plugins=[k])}catch(p){}if(a.ready=a.ready||c,!a.ready)throw"springroll.Sound.init requires a ready callback";if(l){var g=e.basePath;l.swfPath=(g||"")+a.swfPath}if(m.registerPlugins(a.plugins),createjs.BrowserDetect.isIOS&&m.activePlugin instanceof j&&"running"!=m.activePlugin.context.state?(document.addEventListener("touchstart",b),document.addEventListener("touchend",b),document.addEventListener("mousedown",b)):this.systemMuted=!1,r=new o,m.getCapabilities())r._initComplete(a.types,a.ready);else if(m.activePlugin){var i,n;i=function(){try{var b=window.plugins.NativeAudio||window.top.plugins.NativeAudio||null;b&&b.getCapabilities(function(b){n=b,h.instance.off("update",i),r._initComplete(a.types,a.ready)},function(a){n=a})}catch(p){}},h.instance.on("update",i)}else r.isSupported=!1,a.ready&&a.ready();return r},q._initComplete=function(a,b){if(l&&m.activePlugin instanceof l)r.supportedSound=".mp3";else for(var c,d=0,e=a.length;d<e;++d)if(c=a[d],m.getCapability(c)){r.supportedSound="."+c;break}this._fixAndroidAudio=createjs.BrowserDetect.isAndroid&&m.activePlugin instanceof j&&!(navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("Firefox")>-1),this._fixAndroidAudio&&(this._numPlayingAudio=0,this._lastAudioTime=Date.now()),b&&b()},Object.defineProperty(o,"instance",{get:function(){return r}}),q.addContext=function(a){if(a){for(var b,d=a.soundManifest||a.sounds||[],e=a.path||"",g=!0===a.preload||!1,h=a.context,i={},j=0,k=d.length;j<k;++j)b=d[j],c(b)&&(b={id:b}),i=this._sounds[b.id]={id:b.id,src:e+(b.src?b.src:b.id)+this.supportedSound,volume:b.volume?b.volume:1,loop:!!b.loop,loadState:s.unloaded,playing:[],waitingToPlay:[],context:b.context||h,playAfterLoad:!1,preloadCallback:null,data:b,duration:0},i.context&&(this._contexts[i.context]||(this._contexts[i.context]=new f(i.context)),this._contexts[i.context].sounds.push(i)),(g||!0===b.preload)&&this.preload(i.id);return this}},q.linkContexts=function(a,b){if(this._contexts[a]||(this._contexts[a]=new f(a)),a=this._contexts[a],Array.isArray(b))for(var c=0;c<b.length;++c)a.subContexts.indexOf(b[c])<0&&a.subContexts.push(b[c]);else a.subContexts.indexOf(b)<0&&a.subContexts.push(b)},q.exists=function(a){return!!this._sounds[a]},q.contextExists=function(a){return!!this._contexts[a]},q.isUnloaded=function(a){return!!this._sounds[a]&&this._sounds[a].loadState==s.unloaded},q.isLoaded=function(a){return!!this._sounds[a]&&this._sounds[a].loadState==s.loaded},q.isLoading=function(a){return!!this._sounds[a]&&this._sounds[a].loadState==s.loading},q.isPlaying=function(a){var b=this._sounds[a];return!!b&&b.playing.length+b.waitingToPlay.length>0},q.getDuration=function(a){var b=this._sounds[a];if(!b)return null;if(!b.duration&&b.loadState==s.loaded){var c=m.play(a,null,null,null,null,0);b.duration=c.getDuration(),c.stop()}return b.duration},q.fadeIn=function(a,b,d,e){var f,g;if(c(a)){if(!(f=this._sounds[a]))return;f.playing.length&&(g=f.playing[f.playing.length-1])}else g=a,f=this._sounds[g.alias];if(g&&g._channel){g._fTime=0,g._fDur=b>0?b:500,g._fEnd=d||g.curVol,g._fStop=!1;var i=e>0?e:0;g.volume=g._fStart=i,-1==this._fades.indexOf(g)&&(this._fades.push(g),1==this._fades.length&&h.instance.on("update",this._update))}},q.fadeOut=function(a,b,d,e,f){var g,i;if(c(a)){if(!(g=this._sounds[a]))return;if(g.playing.length)i=g.playing[g.playing.length-1];else if(p.loadState==s.loading)return void this.stop(a)}else i=a;i&&i._channel&&(i._fTime=0,i._fDur=b>0?b:500,e>0?(i.volume=e,i._fStart=e):i._fStart=i.volume,i._fEnd=d||0,f=void 0===f?0===i._fEnd:!!f,i._fStop=f,-1==this._fades.indexOf(i)&&(this._fades.push(i),1==this._fades.length&&h.instance.on("update",this._update)))},q._update=function(a){for(var b,c,d,e,f,g=this._fades,i=g.length-1;i>=0;--i)b=g[i],b.paused||(c=b._fTime+=a,c>=b._fDur?b._fStop?(d=this._sounds[b.alias],d&&d.playing.splice(d.playing.indexOf(b),1),this._stopInst(b)):(b.curVol=b._fEnd,b.updateVolume(),g.splice(i,1)):(e=c/b._fDur,f=b._fEnd>b._fStart?b._fStart+(b._fEnd-b._fStart)*e:b._fEnd+(b._fStart-b._fEnd)*e,b.curVol=f,b.updateVolume()));0===g.length&&h.instance.off("update",this._update)},q.play=function(b,c,e,f,g,h,i,j,k){var l;if(c&&d(c)&&(l=c,c=null),l=(c?c.complete:l)||null,e=(c?c.start:e)||null,f=!!(c?c.interrupt:f),g=(c?c.delay:g)||0,h=(c?c.offset:h)||0,i=c?c.loop:i,j=c?c.volume:j,k=(c?c.pan:k)||0,!this.isSupported)return void(l&&setTimeout(l,0));!0===i&&(i=-1);var n=this._sounds[b];if(!n)return void(l&&l());(n.loop&&void 0===i||null===i)&&(i=-1),j="number"==typeof j?j:n.volume;var o,p,q=n.loadState;if(q==s.loaded){this._fixAndroidAudio&&(this._numPlayingAudio?(this._numPlayingAudio++,this._lastAudioTime=-1):(Date.now()-this._lastAudioTime>=3e4&&a(),this._numPlayingAudio=1,this._lastAudioTime=-1));var r=m.play(b,f,g,h,i,j,k);return r&&r.playState!=m.PLAY_FAILED?(o=this._getSoundInst(r,n.id),r.handleExtraData&&r.handleExtraData(n.data),o.curVol=j,o._pan=k,n.playing.push(o),o._endCallback=l,o.updateVolume(),o.length=r.getDuration(),n.duration||(n.duration=o.length),o._channel.addEventListener("complete",o._endFunc),e&&setTimeout(e,0),o):(l&&l(),null)}return q==s.unloaded?(n.playAfterLoad=!0,o=this._getSoundInst(null,n.id),o.curVol=j,o._pan=k,n.waitingToPlay.push(o),o._endCallback=l,o._startFunc=e,o._startParams?(p=o._startParams,p[0]=f,p[1]=g,p[2]=h,p[3]=i):o._startParams=[f,g,h,i],this.preload(n.id),o):q==s.loading?(n.playAfterLoad=!0,o=this._getSoundInst(null,n.id),o.curVol=j,o._pan=k,n.waitingToPlay.push(o),o._endCallback=l,o._startFunc=e,o._startParams?(p=o._startParams,p[0]=f,p[1]=g,p[2]=h,p[3]=i):o._startParams=[f,g,h,i],o):void 0},q._getSoundInst=function(a,b){var c;return this._pool.length?c=this._pool.pop():(c=new g,c._endFunc=this._onSoundComplete.bind(this,c)),c._channel=a,c.alias=b,c.length=a?a.getDuration():0,c.isValid=!0,c},q._playAfterLoad=function(b){var d=c(b)?b:b.data.id,e=this._sounds[d];if(e.loadState=s.loaded,e.playAfterLoad){this._fixAndroidAudio&&this._lastAudioTime>0&&Date.now()-this._lastAudioTime>=3e4&&a();for(var f,g,h,i,j,k=e.waitingToPlay,l=0,n=k.length;l<n;++l)f=k[l],g=f._startParams,h=f.curVol,j=f._pan,i=m.play(d,g[0],g[1],g[2],g[3],h,j),i&&i.playState!=m.PLAY_FAILED?(this._fixAndroidAudio&&(this._numPlayingAudio?(this._numPlayingAudio++,this._lastAudioTime=-1):(this._numPlayingAudio=1,this._lastAudioTime=-1)),e.playing.push(f),f._channel=i,i.handleExtraData&&i.handleExtraData(e.data),f.length=i.getDuration(),e.duration||(e.duration=f.length),f.updateVolume(),i.addEventListener("complete",f._endFunc),f._startFunc&&f._startFunc(),f.paused&&i.pause()):(f._endCallback&&f._endCallback(),this._poolInst(f));k.length=0}},q._onSoundComplete=function(a){if(a._channel){this._fixAndroidAudio&&0==--this._numPlayingAudio&&(this._lastAudioTime=Date.now()),a._channel.removeEventListener("complete",a._endFunc);var b=this._sounds[a.alias],c=b.playing.indexOf(a);c>-1&&b.playing.splice(c,1);var d=a._endCallback;this._poolInst(a),d&&d()}},q.stop=function(a){var b=this._sounds[a];if(b)if(b.playing.length)this._stopSound(b);else if(b.loadState==s.loading){b.playAfterLoad=!1;for(var c,d=b.waitingToPlay,e=0,f=d.length;e<f;++e)c=d[e],this._poolInst(c);d.length=0}},q._stopSound=function(a){for(var b=a.playing,c=b.length-1;c>=0;--c)this._stopInst(b[c]);b.length=0},q._stopInst=function(a){a._channel&&(!a.paused&&this._fixAndroidAudio&&0==--this._numPlayingAudio&&(this._lastAudioTime=Date.now()),a._channel.removeEventListener("complete",a._endFunc),a._channel.stop());var b=this._fades.indexOf(a);b>-1&&this._fades.splice(b,1),this._poolInst(a)},q.stopContext=function(a){if(a=this._contexts[a]){var b,c,d=a.sounds;for(c=d.length-1;c>=0;--c)b=d[c],b.playing.length?this._stopSound(b):b.loadState==s.loading&&(b.playAfterLoad=!1);for(c=0;c<a.subContexts.length;++c)this.stopContext(a.subContexts[c])}},q.stopAll=function(){for(var a in this._sounds)this.stop(a)},q.pause=function(a,b){c(a)&&(a=this._sounds[a]),b=!!b;var d,e=a.playing;for(d=e.length-1;d>=0;--d)e[d].paused||(e[d].pause(),e[d].globallyPaused=b);for(e=a.waitingToPlay,d=e.length-1;d>=0;--d)e[d].paused||(e[d].pause(),e[d].globallyPaused=b)},q.resume=function(a,b){c(a)&&(a=this._sounds[a]);var d,e=a.playing;for(d=e.length-1;d>=0;--d)e[d].globallyPaused==b&&e[d].resume();for(e=a.waitingToPlay,d=e.length-1;d>=0;--d)e[d].globallyPaused==b&&e[d].resume()},q.pauseContext=function(a){if(a=this._contexts[a]){var b,c,d=a.sounds;for(c=d.length-1;c>=0;--c){b=d[c];var e;for(e=b.playing.length-1;e>=0;--e)b.playing[e].pause();for(e=b.waitingToPlay.length-1;e>=0;--e)b.waitingToPlay[e].pause()}for(c=0;c<a.subContexts.length;++c)this.pauseContext(a.subContexts[c])}},q.resumeContext=function(a){if(a=this._contexts[a]){var b,c,d=a.sounds;for(c=d.length-1;c>=0;--c){b=d[c];var e;for(e=b.playing.length-1;e>=0;--e)b.playing[e].resume();for(e=b.waitingToPlay.length-1;e>=0;--e)b.waitingToPlay[e].resume()}for(c=0;c<a.subContexts.length;++c)this.resumeContext(a.subContexts[c])}},q.pauseAll=function(){var a=this._sounds;for(var b in a)this.pause(a[b],!0)},q.resumeAll=function(){var a=this._sounds;for(var b in a)this.resume(a[b],!0)},q._onInstancePaused=function(){this._fixAndroidAudio&&0==--this._numPlayingAudio&&(this._lastAudioTime=Date.now())},q._onInstanceResume=function(){this._fixAndroidAudio&&(this._lastAudioTime>0&&Date.now()-this._lastAudioTime>3e4&&a(),this._numPlayingAudio++,this._lastAudioTime=-1)},q.setContextMute=function(a,b){if(a=this._contexts[a]){a.muted=b;var c,d,e,f,g=a.volume,h=a.sounds;for(f=h.length-1;f>=0;--f)if(c=h[f],c.playing.length)for(d=c.playing,e=d.length-1;e>=0;--e)d[e].updateVolume(b?0:g);for(f=0;f<a.subContexts.length;++f)this.setContextMute(a.subContexts[f],b)}},Object.defineProperty(q,"muteAll",{set:function(a){m.setMute(!!a)}}),q.setContextVolume=function(a,b){if(a=this._contexts[a]){var c=a.muted;a.volume=b;for(var d,e,f,g=a.sounds,h=g.length-1;h>=0;--h)if(d=g[h],d.playing.length)for(e=d.playing,f=e.length-1;f>=0;--f)e[f].updateVolume(c?0:b)}},q.preload=function(a,b){if(!this.isSupported)return void(b&&setTimeout(b,0));if(c(a)&&(a=[a]),!a||0===a.length)return void(b&&b());for(var d,e=[],f=0,g=a.length;f<g;++f)(d=this._sounds[a[f]])&&d.loadState==s.unloaded&&(d.loadState=s.loading,e.push({id:d.id,src:d.src,complete:this._markLoaded,data:d,advanced:!0}));e.length>0?h.instance.load(e,b):b&&b()},q._markLoaded=function(a){var b=a.data.id,c=this._sounds[b];c&&(c.loadState=s.loaded,c.playAfterLoad&&this._playAfterLoad(b));var d=c.preloadCallback;d&&(c.preloadCallback=null,d())},q.unload=function(a){if(a)for(var b,c=0,d=a.length;c<d;++c)b=this._sounds[a[c]],b&&(this._stopSound(b),b.loadState=s.unloaded),m.removeSound(b.src)},q.unloadAll=function(){var a=[];for(var b in this._sounds)a.push(b);this.unload(a)},q._poolInst=function(a){-1==this._pool.indexOf(a)&&(a._endCallback=a.alias=a._channel=a._startFunc=null,a.curVol=0,a.globallyPaused=a.paused=a.isValid=!1,this._pool.push(a))},q.destroy=function(){if(this.stopAll(),m.removeAllSounds(),l&&m.activePlugin instanceof l){var a=document.getElementById("SoundJSFlashContainer");a&&a.parentNode&&a.parentNode.removeChild(a)}r=null,this._sounds=null,this._volumes=null,this._fades=null,this._contexts=null,this._pool=null},namespace("springroll").Sound=o}(),function(){var a,b=include("springroll.Sound"),c=include("springroll.Application"),d=include("springroll.EventDispatcher"),e=function(){d.call(this),a||(a=include("springroll.Captions",!1)),this._onSoundFinished=this._onSoundFinished.bind(this),this._updateSilence=this._updateSilence.bind(this),this._updateSoloCaption=this._updateSoloCaption.bind(this),this._syncCaptionToSound=this._syncCaptionToSound.bind(this),this._listHelper=[],this.trackSound=!1,this.paused=!1,this.voList=null,this._listCounter=0,this._currentVO=null,this._soundInstance=null,this._callback=null,this._cancelledCallback=null,this._trackedSounds=[],this._timer=0,this._captions=null},f=extend(e,d);Object.defineProperty(f,"playing",{get:function(){return null!==this._currentVO||this._timer>0}}),Object.defineProperty(f,"currentVO",{get:function(){return this._currentVO}}),Object.defineProperty(f,"captions",{set:function(a){this._captions=a,a&&(a.selfUpdate=!1)},get:function(){return this._captions}}),Object.defineProperty(f,"currentPosition",{get:function(){return this.playing?this._soundInstance?this._soundInstance.position:this._currentVO?this._timer:this.voList[this._listCounter]-this._timer:0}}),Object.defineProperty(f,"currentDuration",{get:function(){return this.playing?this._soundInstance?b.instance.getDuration(this._soundInstance.alias):this._currentVO&&this._captions?this._captions.currentDuration:this.voList[this._listCounter]:0}}),f.getElapsed=function(){var a,c,d=0;if(!this.voList)return 0;for(c=0;c<this._listCounter;++c)a=this.voList[c],"string"==typeof a?d+=b.instance.getDuration(a):"number"==typeof a&&(d+=a);return c=this._listCounter,c<this.voList.length&&(a=this.voList[c],"string"==typeof a?d+=this._soundInstance.position:"number"==typeof a&&(d+=a-this._timer)),d},f.pause=function(){!this.paused&&this.playing&&(this.paused=!0,this._soundInstance&&this._soundInstance.pause(),c.instance.off("update",[this._updateSoloCaption,this._syncCaptionToSound,this._updateSilence]))},f.resume=function(){this.paused&&(this.paused=!1,this._soundInstance&&this._soundInstance.resume(),this._captions.playing?this._soundInstance?c.instance.on("update",this._syncCaptionToSound):c.instance.on("update",this._updateSoloCaption):c.instance.on("update",this._updateSilence))},f.play=function(a,b,c){this.stop(),this.playing&&this.stop(),this._listCounter=-1,"string"==typeof a?(this._listHelper.length=0,this._listHelper[0]=a,this.voList=this._listHelper):this.voList=a,this._callback=b,this._cancelledCallback=!0===c?b:c,this._onSoundFinished()},f._onSoundFinished=function(){if(this._listCounter>=0&&this.trigger("end",this._currentVO),c.instance.off("update",[this._updateSoloCaption,this._syncCaptionToSound,this._updateSilence]),this._captions&&this._soundInstance&&this._captions.seek(this._soundInstance.length),this._soundInstance=null,++this._listCounter>=this.voList.length){this._captions&&this._captions.stop(),this._currentVO=null,this._cancelledCallback=null;var a=this._callback;this._callback=null,a&&a()}else this._currentVO=this.voList[this._listCounter],"string"==typeof this._currentVO?(this._playSound(),this.trigger("start",this._currentVO)):"function"==typeof this._currentVO?(this._currentVO(),this._onSoundFinished()):(this._timer=this._currentVO,this._currentVO=null,c.instance.on("update",this._updateSilence),this.trigger("start",null))},f._updateSilence=function(a){this._timer-=a,this._timer<=0&&this._onSoundFinished()},f._updateSoloCaption=function(a){this._timer+=a,this._captions.seek(this._timer),this._timer>=this._captions.currentDuration&&this._onSoundFinished()},f._syncCaptionToSound=function(a){this._soundInstance&&this._captions.seek(this._soundInstance.position)},f._playSound=function(){this.trackSound&&-1==this._trackedSounds.indexOf(this._currentVO)&&this._trackedSounds.push(this._currentVO);var a=b.instance;!a.exists(this._currentVO)&&this._captions&&this._captions.hasCaption(this._currentVO)?(this._captions.play(this._currentVO),this._timer=0,c.instance.on("update",this._updateSoloCaption)):(this._soundInstance=a.play(this._currentVO,this._onSoundFinished),this._captions&&(this._captions.play(this._currentVO),c.instance.on("update",this._syncCaptionToSound)));for(var d,e=this.voList.length,f=this._listCounter+1;f<e;++f)if("string"==typeof(d=this.voList[f])){a.exists(d)&&!a.isLoaded(d)&&a.preload(d);break}},f.stop=function(){this.paused=!1,this._soundInstance&&(this._soundInstance.stop(),this._soundInstance=null),this._currentVO=null,this._captions&&this._captions.stop(),c.instance.off("update",[this._updateSoloCaption,this._syncCaptionToSound,this._updateSilence]),this.voList=null,this._timer=0,this._callback=null;var a=this._cancelledCallback;this._cancelledCallback=null,a&&a()},f.unloadSound=function(){b.instance.unload(this._trackedSounds),this._trackedSounds.length=0},f.destroy=function(){this.stop(),this.voList=null,this._listHelper=null,this._currentVO=null,this._soundInstance=null,this._callback=null,this._cancelledCallback=null,this._trackedSounds=null,this._captions=null,d.prototype.destroy.call(this)},namespace("springroll").VOPlayer=e,namespace("springroll").Sound.VOPlayer=e}(),function(){var a=include("springroll.ApplicationPlugin"),b=include("springroll.Sound"),c=include("springroll.VOPlayer"),d=include("createjs.WebAudioPlugin"),e=include("createjs.FlashAudioPlugin",!1),f=new a(90);f.setup=function(){this.options.add("audioPlugins",e?[d,e]:[d],!0),this.options.add("swfPath","assets/swfs/",!0),this.options.add("forceFlashAudio",!1,!0),this.options.add("forceNativeAudio",!1,!0),this.options.add("audioTypes",["ogg","mp3"],!0),this._music=null,this._musicInstance=null,this.voPlayer=new c,this.sound=null,this.assetManager.register("springroll.SoundTask"),Object.defineProperty(this,"music",{set:function(a){if(a!=this._music){var b=this.sound;this._music&&(b.fadeOut(this._music),this._musicInstance=null),this._music=a,a&&(this._musicInstance=b.play(this._music,{start:b.fadeIn.bind(b,a),loop:-1}))}},get:function(){return this._music}}),Object.defineProperty(this,"musicInstance",{get:function(){return this._musicInstance}}),this.once("configLoaded",function(a){var b=a.sounds,c=this.sound;b&&(b.vo&&c.addContext(b.vo),b.sfx&&c.addContext(b.sfx),b.music&&c.addContext(b.music))})},f.preload=function(a){b.init({plugins:this.options.audioPlugins,swfPath:this.options.swfPath,types:this.options.audioTypes,ready:function(){if(!this.destroyed){var c=this.sound=b.instance;this.on({paused:function(){c.pauseAll()},resumed:function(){c.resumeAll()}}),this.trigger("soundReady"),a()}}.bind(this)})},f.teardown=function(){this.voPlayer&&(this.voPlayer.destroy(),this.voPlayer=null),this.sound&&(this.sound.destroy(),this.sound=null)}}(),function(){var a=include("springroll.Sound"),b=include("springroll.SoundInstance"),c=include("springroll.VOPlayer"),d=a.prototype;Object.defineProperty(d,"soundEnabled",{get:function(){return this.isSupported}}),d.loadConfig=function(a){return this.addContext(a)},d.preloadSound=function(a,b){this.preload(a,b)},d.unpauseAll=function(){this.resumeAll()},d.unpauseSound=function(a){this.resume(a)},d.pauseSound=function(a){this.pause(a)},d=b.prototype,d.unpause=function(){this.resume()},d=c.prototype,Object.defineProperty(d,"soundList",{get:function(){return this.voList}})}();}();