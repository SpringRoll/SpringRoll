/*! SpringRoll 1.0.3 */
!function(){"use strict";!function(){var a,b,c=include("createjs.Container"),d=function(){b||(b=include("springroll.Application"),a=include("springroll.easeljs.DwellTimer",!1)),c.call(this),this.app=b.instance,this.config=this.app.config,this.background=null},e=extend(d,c);e.setup=function(){},e.teardown=function(){var a=this.children.slice();this.cleanupChildren.apply(this,a)},e.cleanupChildren=function(b){var c,d,e=arguments.length;for(d=0;d<e;d++)(c=arguments[d])&&(Array.isArray(c)&&c.length>0?this.cleanupChildren.apply(this,c):(a&&a.destroy(c),this.app.animator&&this.app.animator.stop(c,!0),c.stop&&c.stop(),c.destroy&&c.destroy(),c.removeAllChildren&&c.removeAllChildren(!0),this.contains(c)&&this.removeChild(c)))},e.destroy=function(){this.app=null,this.config=null,this.background=null,this.removeAllChildren()},namespace("springroll.easeljs").BasePanel=d}(),function(a){var b,c,d=include("springroll.State"),e=function(a,e){if(c||(c=include("springroll.easeljs.BasePanel"),b=include("springroll.Debug",!1)),!(a instanceof c))throw"springroll.State requires the panel be a springroll.easeljs.BasePanel";e=e||{},e.manifest&&(e.preload=e.manifest),d.call(this,a,e),this._images=[];var f=100;this.on("loading",function(a){this.addTasks&&this.addTasks(a)},f).on("loaded",function(a){if(a)for(var b in a)"IMG"!=a[b].tagName&&"CANVAS"!=a[b].tagName||(images[b]=a[b],this._images.push(b));this.panel.setup(),this.onAssetsLoaded()},f).on("exit",function(){this.panel.teardown(),this._images.forEach(function(a){delete images[a]}),this._images.length=0},f)},f=d.prototype,g=d.extend(e);g.addTasks=null,g.onAssetsLoaded=function(){},g.destroy=function(){this._images=null,this.panel.destroy(),f.destroy.call(this)},namespace("springroll.easeljs").BaseState=e}(),function(a){var b,c,d=include("springroll.ApplicationPlugin"),e=new d;e.setup=function(){this.options.add("manifestsPath",null,!0),this.options.override("fps",30),this.options.override("display",include("springroll.easeljs.EaselJSDisplay")),this.options.override("displayOptions",{clearView:!0}),this.options.override("canvasId","stage"),b=include("springroll.Debug",!1),c=include("springroll.easeljs.BaseState"),this._manifests={},Object.defineProperty(this,"manifests",{get:function(){return this._manifests}}),this.once("loading",function(a){var b=this.options.manifestsPath;b&&a.push({id:"manifests",src:b,complete:f.bind(this)})})};var f=function(a,b,c){Object.merge(this._manifests,a),this.trigger("manifestLoaded",c)};e.teardown=function(){this._manifests=null}}(),function(a){var b=include("springroll.easeljs.BasePanel"),c=include("springroll.easeljs.BaseState");a.defineProperty(b.prototype,"game",{get:function(){return this.app}}),a.defineProperty(c.prototype,"game",{get:function(){return this.app}}),a.defineProperty(c.prototype,"manifest",{get:function(){return this.preload}}),a.defineProperty(c.prototype,"assetsLoaded",{get:function(){return this.preloaded}})}(Object);}();